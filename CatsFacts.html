<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Факты о кошках</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            font-family: 'Arial', sans-serif;
        }
        .card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            padding: 40px;
            width: 80%;
            max-width: 600px;
            text-align: center;
        }
        h1 {
            color: #2c3e50;
            font-size: 1.8rem;
            line-height: 1.5;
            margin: 0;
        }
        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 25px;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        /* Добавленные стили для изображения */
        .cat-image {
            width: 100%;
            max-height: 300px;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            background: #f8f9fa;
            min-height: 200px;
        }
        .image-container {
            position: relative;
            margin-bottom: 25px;
        }
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 15px;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        .loading-overlay.visible {
            opacity: 1;
        }
        .spinner {
            width: 100px;
            height: 100px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .source-indicator {
            font-size: 0.8rem;
            color: #7f8c8d;
            margin-top: 5px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="card">
        <!-- Контейнер для изображения -->
        <div class="image-container">
            <img id="catImage" class="cat-image" alt="Случайный котик">
            <div id="loadingOverlay" class="loading-overlay">
                <div class="spinner"></div>
            </div>
        </div>
        <h1 id="catFact">Загрузка интересного факта о кошках...</h1>
        <div id="sourceInfo" class="source-indicator"></div>
        <button class="btn" onclick="getCatFact()">Новый факт</button>
    </div>

    <script>
        // Список источников случайных изображений котиков
        const CAT_IMAGE_SOURCES = [
            'https://cataas.com/cat',
            'https://cataas.com/cat/cute',
            'https://cataas.com/cat/says/Meow!'
        ];

        // Локальные факты о кошках
        const LOCAL_CAT_FACTS = [
            "8 августа - Всемирный день кошек",
            "Сердце кошки совершает до 140 ударов в минуту, что почти вдвое превосходит человеческое.",
            "На то, чтобы вылизать шерсть, кошка расходуется столько же воды, сколько на мочеиспускание.",
            "Нормальная температура тела у кошек около 38 градусов. Это чуть больше, чем у человека.",
            "В скелете кошки 250 костей. (Некоторые источники называют 245 и утверждают, что кости могут срастаться по мере взросления.) У человека - 206.",
            "Около 10 % всех костей приходится на хвост. Всё для лучшей балансировки при беге и прыжках.",
            "В теле кошки 517 мышц. У человека их 650.",
            "Для управления ухом у кошек в распоряжении 32 мышцы. Кошачье ухо поворачивается на 180 градусов, причем делает это в десять раз быстрее, чем собака.",
            "Глаз кошки относительно размеров тела крупнее, чем у большинства млекопитающих.",
            "Кошки могут различать некоторые цвета. Эксперименты показали, что кошки могут различать красный, зеленый, синий. Вот с другими цветами дело обстоит несколько хуже, то есть в оттенках серого.",
            "Кошки могут видеть на расстояние до 60 метров. Поле четкого зрения - 135, а периферийное боковое зрение - около 285 градусов.",
            "Кошки не очень хорошо различают мелкие детали.",
            "Чтобы видеть ночью, кошкам достаточно в 6 раз меньше света, чем человеку. Их ночное зрение поразительно! В темноте глаз кошки использует даже свет, отразившийся от сетчатки.",
            "Цвет глаз у котят может меняться по мере взросления.",
            "При рождении котята глухи и слепы. Они открывают глаза в 7-10 дней, а зрение и слух развиваются в две недели.",
            "Рисунок линий на поверхности носа кошки уникален, как и отпечаток пальца у человека. Нет двух одинаковых кошачьих носов!",
            "Кошки чувствуют запахи в 14 раз сильнее, чем люди. У них 80 миллионов обонятельных рецепторов в носу.",
            "Помимо носа, кошки могут улавливать запахи с помощью так называемого органа Якобсона, расположенного на верхнем нёбе за передними резцами. Кошка пользуется им, когда полностью сосредотачивается на каком-то особо интересном запахе, втягивая в себя воздух, слегка приподняв верхнюю губу и нос.",
            "Вибрисами кошка воспринимает мельчайшие колебания воздуха и его направления. Своеобразный природный пеленгатор! Всего у кошки 24 основных вибриса, расположенных в четыре ряда с каждой стороны головы. Причем двумя верхними рядами усов кошка может управлять независимо от нижних.",
            "Одна из самых крупных пород кошек - Мейн-Кун. Коты весят от 6 до 10 кг, а кошки - от 5 до 8 кг. Самая мелкая порода кошек - Сингапурская. Коты весят около 3 кг, а кошки едва набирают 2 кило.",
            "Жираф, верблюд, лошадь и кошка - это единственные животные-иноходцы, у которых при ходьбе идут сначала левые ноги, а потом правые. Такая ходьба гарантирует скорость, маневренность и тишину.",
            "Домашние кошки - это единственная разновидность кошачьих, способная держать хвост вертикально при ходьбе. Все дикие кошки держат при ходьбе свои хвосты горизонтально.",
            "У кошки потеют только подушечки лап.",
            "У кошек в помёте обычно 1-6 котят. В среднем кошка способна давать 2-3 помёта в год и может принести за всю свою жизнь больше 100 котят. Одна пара кошек и их дети за 7 лет могут произвести на свет 420 000 котят.",
            "В одном помёте могут быть котята от разных отцов.",
            "Во время питья кошка захватывает жидкость нижней стороной языка больше, чем верхней.",
            "Кошки мурлыкают с частотой 26 колебаний в секунду, причем делают это и на вдохе, и на выдохе.",
            "Во время охоты на добычу домашняя кошка может делать рывки со скоростью до 40 километров в час.",
            "В Англии кошек используют по назначению для охраны зернохранилищ и прочих пищевых складов, их вполне официально ставят на довольствие. Кошки также охраняют от мышей книги и другие реликвии Британского музея. А в Австрии кошке, прослужившей на охране складов несколько лет, положена пожизненная пенсия, выдаваемая продуктами: молоком, мясом или бульоном.",
            "Если кошка около вас и её хвост дрожит - это высшее чувство любви, которое она может выразить. Когда хвост начинает опускаться, значит, настроение изменилось - можно отойти, она не обидится.",
            "Кошки размахивают своими хвостами, когда стоят перед выбором, при этом одно желание идет в разрез с другим. Например, если кошка стоит в дверном проеме и хочет выйти, а на улице идёт дождь, хвост будет раскачиваться из-за внутреннего конфликта. Кошка хочет выйти, но не хочет промокнуть. Как только она примет решение (остаться дома – или выйти под дождь), хвост сразу успокоится.",
            "От удовольствия кошки выпускают и втягивают когти, растопыривая пальцы.",
            "Не берите котенка или тем более взрослую кошку за загривок. Вы никогда не сможете это сделать так, как кошка-мама, которая таким образом переносит своих котят. Они при этом впадают в состояние оцепенения. С такой ношей в зубах кошка способна преодолевать разнообразные препятствия и делать прыжки вверх и вниз.",
            "Средний срок жизни домашней кошки - 15 лет, в то время как у диких - от 3 до 5 лет.",
            "Люди, у которых есть домашние кошки, живут дольше и в гораздо меньшей степени подвержены стрессам и сердечным приступам.",
            "Кошка убивает движущуюся добычу, но не обязательно для пищи. Понимание, что охота - это добыча пищи, является приобретенным навыком.",
            "Падающая с высоты кошка всегда действует одинаково. Сначала выравнивается голова, потом спина, потом ноги, а в конце выгибается спина, чтобы смягчить приземление.",
            "«Общительные» кошки следуют за вами из комнаты в комнату, чтобы контролировать ваши действия.",
            "Если кошка дерет мебель, попробуйте придать этому месту аромат лимона или апельсина. Кошки терпеть не могут запахи цитрусовых.",
            "Кошки различают интонацию. Когда говорите с ними, помните про тон голоса. Кошки прекрасно понимают, когда вы злитесь на них (хотя могут и не показывать вида).",
            "Кошки могут издавать около 100 различных звуков. Для сравнения - собаки только около 10. Кошки мурлыкают не только от удовольствия, но и выражая боль или страх.",
            "Кошки часто мурлыкают, когда рожают, или когда ласкают котят.",
            "Кошки трутся о человека, чтобы «перебить» чужие запахи и присвоить свои. Запах идет из желёз, которые находятся между глазом и ухом и в основании хвоста. По этой же причине кошки ложатся на одежду хозяев.",
            "Не сажайте кошку на вегетарианскую диету. Они нуждаются в белке животного происхождения. В конце-концов, это же плотоядные животные!",
            "Кошки - одни из самых ленивых млекопитающих. Они способны спать по 18 часов в день. Кошка засыпает быстрее, чем почти все остальные животные.",
            "Кошки, если не спят, тратят треть всего времени на уход за собой.",
            "Кошка легко прыгает на высоту, в пять раз превышающую ее рост.",
            "Кошки любят высоту - оттуда лучше осматривается ближайшее пространство. Да и недруги не так быстро преодолеют высоту, на которую взобралась кошка. Так же любят высоту леопарды и ягуары, которые спят на деревьях.",
            "Если кошка кусается, когда ей гладят живот, это не значит, что она злая, просто ей не нравится.",
            "Если кошка спит, подобрав под себя все лапы или свернувшись клубком и прикрыв нос хвостом, это к холодной погоде.",
            "Современные кошки произошли от миацидов - маленьких животных, живущих на деревьях. Существовали они более 40 миллионов лет назад. Первые представители современных кошачьих выделились примерно 12 миллионов лет назад.",
            "Среди владельцев котов на 17% больше людей с ученой степенью.",
            "Кошки не чувствуют сладкого вкуса.",
            "Мозг кошки похож на человеческий. За эмоции у кошек отвечают те же самые участки, что и у людей.",
            "Кошки трутся об людей, чтобы пометить их как свою территорию.",
            "В основном, кошки имеют более низкий социальный IQ, чем собаки, но могут решать более сложные когнитивные задачи, когда им это интересно.",
            "У кошек часто бывает непереносимость лактозы, поэтому перестаньте им давать молоко",
            "В мультиках врут: котов лучше не кормить сырой рыбой.",
            "Исааку Ньютону приписывают изобретение кошачьей двери.",
            "Мурчание кошки может быть способом самоизлечения, и в то же время знаком нервозности, а также удовлетворенности.",
            "Кошки спят около 70% своей жизни.",
            "Длина самого крупного кота - 1,2319 метра.",
            "Кошки могут изменить свое «мяу», чтобы манипулировать человеком. Они имитируют голос ребёнка, когда нуждаются в пище, например.",
            "У кошек более 20 мышц отвечают за движение ушей.",
            "Сейчас в мире живет свыше 500 миллионов домашних кошек. Самая «кошачья» страна - это Австралия: на 10 человек приходится 9 кошек.",
            "Самое старое видео с кошками, размещенное на YouTube, было снято в 1894 году.",
            "Кошка по имени Дасти установила рекорд по численности потомства. За свою жизнь она родила 420 котят.",
            "У взрослых кошек 30 зубов. У котят - 26 временных, которые выпадают к 6 месяцам.",
            "Авраам Линкольн держал в Белом доме четырех котов.",
            "В оригинальной итальянской версии «Золушки» добрая крестная фея была кошкой.",
            "В Шотландии есть памятная башня в честь кота по имени Таузер, который поймал за свою жизнь почти 30 тысяч мышей.",
            "В средние века кошки ассоциировались с чёрной магией, и в День Святого Иоанна люди по всей Европе сжигали их на кострах.",
            "Во многих частях Европы и Северной Америки черная кошка считается плохим знаком, а в Великобритании и Австралии обозначает удачу.",
            "Поверхность носа у кошек так же уникальна, как отпечатки пальцев у людей.",
            "Если кошка оставляет свои испражнения непокрытыми, то это признак агрессии, чтобы вы знали: она не боится вас.",
            "Обычно у кошки пять пальцев на её передних лапах и четыре на задних, если только она не многопальцевая.",
            "Многопальцевые кошки иногда называются «кошками Хемингуэя» из-за того, что автор очень сильно любил их.",
            "Кошки вылизывают себя, чтобы перестать пахнуть человеком.",
            "Кошки используют свои вибриссы, чтобы выяснить, могут ли они протиснуться или нет.",
            "Кошки потеют только через свои подушечки лап.",
            "Кошки узнают ваш голос, но предпочитают его игнорировать.",
            "Кошка не может вскарабкаться на дерево вниз головой из-за устройства когтей. Для того, чтобы спуститься с дерева, ей нужно отступать, пятясь задом.",
            "Зрение кошки одновременно лучше и хуже человеческого. Кошки отлично видят в темноте, но не различают цвета.",
            "Кошки способны преодолевать огромные расстояния, чтобы добраться до дома.",
            "В наибольшем известном помете было 19 котят, из которых 15 выжили.",
            "Египтяне так и называли кошек - мау.",
            "В мире существуют кошки, которые пережили падение с высоты 230 метров."
        ];

        async function getCatFact() {
            const catFactElement = document.getElementById('catFact');
            const catImageElement = document.getElementById('catImage');
            const loadingOverlay = document.getElementById('loadingOverlay');
            const sourceInfo = document.getElementById('sourceInfo');
            
            // Показываем загрузку
            loadingOverlay.classList.add('visible');
            catFactElement.textContent = "Загружаем новый факт...";
            sourceInfo.textContent = "";
            catImageElement.src = '';
            
            try {
                // Случайно выбираем источник факта (50% вероятность для каждого)
                const useLocalFacts = Math.random() > 0.3;
                
                if (useLocalFacts) {
                    // Используем локальный факт
                    const randomIndex = Math.floor(Math.random() * LOCAL_CAT_FACTS.length);
                    catFactElement.innerHTML = LOCAL_CAT_FACTS[randomIndex];
                    sourceInfo.textContent = "Источник: vk.com/wall-65671126_87237";
                } else {
                    // Загружаем факт из API
                    const factResponse = await fetch('https://meowfacts.herokuapp.com/?lang=rus');
                    const factData = await factResponse.json();
                    
                    // Извлекаем текст факта
                    let fact = factData.data[0];
                    fact = fact.replace(/^"(.*)"$/, '$1');
                    catFactElement.innerHTML = fact;
                    sourceInfo.textContent = "Источник: MeowFacts";
                }
                
                // Загружаем изображение кота
                loadCatImage();
                
            } catch (error) {
                catFactElement.textContent = 'Ошибка загрузки. Попробуйте ещё раз.';
                console.error('Ошибка:', error);
                
                // В случае ошибки загрузки изображения покажем заглушку
                catImageElement.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24"><path fill="%23cccccc" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5l7.5-7.5 7.5 7.5H6.5z"/></svg>';
                sourceInfo.textContent = "Ошибка при загрузке данных";
            }
        }

        // Функция для загрузки изображения кота
        function loadCatImage() {
            const catImageElement = document.getElementById('catImage');
            
            // Выбираем случайный источник изображения
            const randomSource = CAT_IMAGE_SOURCES[Math.floor(Math.random() * CAT_IMAGE_SOURCES.length)];
            
            // Загружаем изображение кота с уникальным параметром для обхода кэша
            const timestamp = new Date().getTime();
            catImageElement.src = `${randomSource}?cache=${timestamp}`;
        }

        // Обработчики для управления индикатором загрузки
        document.getElementById('catImage').addEventListener('load', function() {
            document.getElementById('loadingOverlay').classList.remove('visible');
        });
        
        document.getElementById('catImage').addEventListener('error', function() {
            document.getElementById('loadingOverlay').classList.remove('visible');
            // Заглушка при ошибке загрузки изображения
            this.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24"><path fill="%23cccccc" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5l7.5-7.5 7.5 7.5H6.5z"/></svg>';
        });

        // Запускаем при загрузке страницы
        window.addEventListener('DOMContentLoaded', getCatFact);
    </script>
</body>
</html>
